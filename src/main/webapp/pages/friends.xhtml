<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/pages/templates/template.xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions">
    <ui:define name="content">
        <div class="container">
            <h3>You have  #{fn:length(userSession.user.account.friendsRequests)} friends requests:</h3>
            <ui:repeat value="${userSession.user.account.friendsRequests}" var="friendsRequest">
                <div class="panel-collapse">
                    <h:form>
                        <h4>
                            <h:outputText value="${friendsRequest.sender.account.firstName}"/>
                            <h:outputText value=" "/>
                            <h:outputText value="${friendsRequest.sender.account.lastName}"/>
                        </h4>
                        <h:commandButton  value="Accept" class="btn btn-success" type="submit"/>
                        <h:outputText value=" "/>
                        <h:commandButton class="btn btn-danger" type="submit" value="Dismiss"/>
                    </h:form>
                </div>
            </ui:repeat>

            <h3>Friends</h3>
            <ui:repeat value="${userSession.user.account.friends}" var="friend">
                <div class="panel-collapse">
                    <h:form>
                        <h4>
                            <h:outputText value="${friend.account.firstName}"/>
                            <h:outputText value=" "/>
                            <h:outputText value="${friend.account.lastName}"/>
                        </h4>
                        <h:commandButton  value="Send Message" class="btn btn-success" type="submit"/>
                        <h:outputText value=" "/>
                        <h:commandButton class="btn btn-danger" type="submit" value="Remove"/>
                    </h:form>
                </div>
            </ui:repeat>

        </div>
    </ui:define>
</ui:composition>
